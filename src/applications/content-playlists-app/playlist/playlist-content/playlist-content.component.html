<k-area-blocker [showLoader]="_widgetService.showSectionLoader" [message]="_widgetService.sectionBlockerMessage">
  <div class="kPlaylistEntriesHolder">
    <kSticky #playlistSections
             stickyId="playlistContentBulk"
             sticksTo="playlistHeader"
             [scrollOffset]="120">
      <kPlaylistEntryListBulkOperationsContent
        [selectedEntries]="_selectedEntries"
        [duration]="_widgetService.entriesDuration"
        [entriesTotalCount]="_widgetService.entriesTotalCount"
        (addEntry)="addEntry.open()"
        (deleteEntries)="_deleteEntries($event)"
        (clearSelection)="_clearSelection()"
        (moveEntries)="_widgetService.moveEntries($event)">
      </kPlaylistEntryListBulkOperationsContent>
    </kSticky>
    <kPlaylistEntriesTable
      class="kPlaylistEntriesTable"
      [isNewPlaylist]="_widgetService.isNewPlaylist"
      [entries]="_widgetService.entries"
      (onActionSelected)="_onActionSelected($event)"
      (sortChanged)="_onSortChanged($event)"
      [(selectedEntries)]="_selectedEntries">
    </kPlaylistEntriesTable>
  </div>

  <kPopupWidget #addEntry [popupWidth]="996" [modal]="true" [slider]="true" [preventPageScroll]="true">
    <ng-template>
      <kAddEntry (onClosePopupWidget)="addEntry.close()" (onAddEntries)="_widgetService.addEntries($event)"></kAddEntry>
    </ng-template>
  </kPopupWidget>
</k-area-blocker>
